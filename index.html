<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Paris Explorer - La Ville Lumi√®re</title>
    
    <!-- Leaflet CSS pour la carte -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- Styles personnalis√©s -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header parisien -->
        <header class="header">
            <div class="header-content">
                <div class="header-top">
                    <div>
                        <h1 class="app-title">üóº Paris Explorer</h1>
                        <p class="app-subtitle">D√©couvrez la Ville Lumi√®re</p>
                    </div>
                    <div class="user-controls">
                        <select class="user-selector" id="userSelector">
                            <option value="">Choisir un explorateur...</option>
                        </select>
                        <button class="btn btn-primary" id="manageUsersBtn">üë• Profils</button>
                    </div>
                </div>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <span class="stat-number" id="totalPlaces">147</span>
                        <span class="stat-label">Lieux √† D√©couvrir</span>
                        <div class="progress-bar">
                            <div class="progress-fill" id="totalProgress" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="visitedPlaces">0</span>
                        <span class="stat-label">Lieux Explor√©s</span>
                        <div class="progress-bar">
                            <div class="progress-fill" id="visitedProgress" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="completionRate">0%</span>
                        <span class="stat-label">Paris Conquis</span>
                        <div class="progress-bar">
                            <div class="progress-fill" id="completionProgress" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number" id="currentStreak">0</span>
                        <span class="stat-label">S√©rie Exploratrice</span>
                        <div class="progress-bar">
                            <div class="progress-fill" id="streakProgress" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Navigation avec onglets -->
        <nav class="nav-section">
            <div class="nav-tabs">
                <div class="nav-tab active" data-tab="list">üìã Liste des Lieux</div>
                <div class="nav-tab" data-tab="map">üó∫Ô∏è Carte Interactive</div>
            </div>
            
            <!-- Contenu onglet Liste -->
            <div class="tab-content active" id="listTab">
                <div class="search-container">
                    <input type="text" class="search-input" id="searchInput" placeholder="üîç Rechercher un monument, restaurant, quartier...">
                </div>
                
                <div class="controls-row">
                    <button class="filter-toggle" id="hideCompletedBtn">üëÅÔ∏è Masquer les Explor√©s</button>
                    
                    <div class="action-buttons">
                        <button class="btn btn-secondary" id="expandAllBtn">üìÇ Tout Ouvrir</button>
                        <button class="btn btn-secondary" id="collapseAllBtn">üìÅ Tout Fermer</button>
                        <button class="btn btn-danger" id="resetProgressBtn">üóëÔ∏è Recommencer</button>
                    </div>
                </div>
            </div>
            
            <!-- Contenu onglet Carte -->
            <div class="tab-content" id="mapTab">
                <div class="map-container" id="mapContainer">
                    <div class="fullscreen-controls" id="mapControls">
                        <button class="map-control-btn" id="fullscreenBtn" title="Mode plein √©cran">
                            üî≥
                        </button>
                        <button class="map-control-btn" id="centerMapBtn" title="Centrer sur Paris">
                            üéØ
                        </button>
                    </div>
                    <!-- La carte Leaflet sera inject√©e ici -->
                </div>
            </div>
        </nav>
        
        <!-- Contenu principal -->
        <main class="main-content" id="mainContent">
            <div class="error-message">
                <div class="error-content">
                    <h3>üö´ Fichier de donn√©es manquant</h3>
                    <p><strong>L'application a besoin du fichier <code>paris-database.json</code></strong></p>
                    <p>Ce fichier contient toutes les donn√©es des lieux parisiens √† explorer.</p>
                    <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; font-size: 14px; text-align: left;">
                        <strong>Pour utiliser cette application :</strong><br>
                        1. T√©l√©chargez le fichier <code>paris-database.json</code><br>
                        2. Placez-le dans le m√™me dossier que ce fichier HTML<br>
                        3. Servez les fichiers via un serveur web local<br>
                        4. Exemple : <code>python -m http.server 8000</code> puis <code>http://localhost:8000</code>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Modal gestion des utilisateurs -->
    <div class="modal" id="userModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Gestion des Explorateurs</h3>
                <button class="close-btn" id="closeModalBtn">&times;</button>
            </div>
            
            <div class="form-group">
                <label class="form-label">Cr√©er un Nouvel Explorateur</label>
                <div style="display: flex; gap: 12px;">
                    <input type="text" class="form-input" id="newUserName" placeholder="Nom de l'explorateur...">
                    <button class="btn btn-success" id="createUserBtn">Cr√©er</button>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">Explorateurs Existants</label>
                <div class="user-list" id="userList">
                    <!-- Les utilisateurs seront list√©s ici -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
</body>
</html>
